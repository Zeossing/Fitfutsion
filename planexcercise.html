<!DOCTYPE html>
<html lang="en">

<head>
    <title>Fitfusion</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="index.css" type="text/css">
    <link rel="stylesheet" href="planexcercise.css" type="text/css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Symbols+Outlined" rel="stylesheet">
</head>

<body>
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container-fluid">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo01"
                aria-controls="navbarTogglerDemo01" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarTogglerDemo01">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#">หน้าหลัก</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">ตารางออกกำลังกาย</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">แนะนำการคาร์ดิโอ</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">จองเครื่องออกกำลังกาย</a>
                    </li>
                </ul>

                <form class="d-flex" role="search">
                    <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                    <button class="btn btn-outline-success me-2" type="submit">
                        <span class="material-symbols-outlined icon">
                            search
                        </span>
                    </button>
                </form>
            </div>
            <button class="btn btn-primary btn-login ms-3 ms-auto">เข้าสู่ระบบ</button>


            <!-- <ul class="navbar-nav mb-2 mb-lg-0 ms-auto">
                <li class="nav-item dropdown ">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                      <img src="pic_abs_muscle.jpg" width="50px" height="50px" style="border-radius: 100%;">
                    </a>
                    <ul class="dropdown-menu dropdown-menu-end">
                      <li><a class="dropdown-item" href="#">ตารางออกกำลังกายของฉัน</a></li>
                      <li><hr class="dropdown-divider"></li>
                      <li><a class="dropdown-item" href="#">แก้ไขหน้าโปรไฟล์</a></li>
                      <li><a class="dropdown-item" href="#">ออกจากระบบ</a></li>
                    </ul>
                  </li>
                  </ul> -->



        </div>
    </nav>

    <section>
        <article class="plan">
            <div class="container">
                <div class="row content">
                    <div class="col-lg-6 card-excercise" data-card-id="1">
                        <div class="container">
                            <div class="row">
                                <div class="col-6 set-and-rep">
                                    <img class="pic-excercise" src="pic_abs_muscle.jpg" alt="">
                                </div>
                                <div class="col-6 set-and-rep">
                                    <div class="row">
                                        <h3>พี่ฟิว Chest Press</h3>
                                        <div class="col-4">
                                            <ul>
                                                <h6>เซ็ท</h6>
                                                <li class="set-item">1</li>
                                                <li class="set-item">2</li>
                                                <li class="set-item">3</li>
                                            </ul>
                                        </div>
                                        <div class="col-4">
                                            <ul>
                                                <h6>ครั้ง</h6>
                                                <li class="reps">12</li>
                                                <li class="reps">12</li>
                                                <li class="reps">12</li>
                                            </ul>
                                        </div>
                                        <div class="col-4">
                                            <ul>
                                                <h6 class="unit-label" id="unitLabel" style="cursor: pointer;">kg</h6>
                                                <select id="unitSelect" style="display: none;">
                                                    <option value="kg">kg</option>
                                                    <option value="lb">lb</option>
                                                </select>
                                                <li class="weight">20.00</li>
                                                <li class="weight">20.00</li>
                                                <li class="weight">20.00</li>
                                            </ul>
                                        </div>
                                    </div>
                                    <button class="button-save btn-setting" id="saveButtonContainer"
                                        style="display: none;">บันทึก</button>
                                    <button class="button-edit btn-setting" id="editButton">แก้ไข</button>
                                    <!-- ปุ่มสำหรับแก้ไข -->

                                    <button class="button-addset btn-setting" id="addSetButton">เพิ่มเซ็ท</button>

                                    <button class="button-deleteset btn-setting" id="deleteSetButton">ลบเซ็ท</button>
                                    <!-- ปุ่มสำหรับเพิ่มเซ็ท -->
                                    <button class="button-unit btn-setting" id="toggleUnitButton">เปลี่ยนหน่วยเป็น
                                        lb</button>
                                    <!-- ปุ่มสำหรับเปลี่ยนหน่วย -->

                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6 card-excercise" data-card-id="2">
                        <div class="container">
                            <div class="row">
                                <div class="col-6 set-and-rep">
                                    <img class="pic-excercise" src="pic_abs_muscle.jpg" alt="">
                                </div>
                                <div class="col-6 set-and-rep">
                                    <div class="row">
                                        <h3>พี่ฟิว Chest Press</h3>
                                        <div class="col-4">
                                            <ul>
                                                <h6>เซ็ท</h6>
                                                <li class="set-item">1</li>
                                                <li class="set-item">2</li>
                                                <li class="set-item">3</li>
                                            </ul>
                                        </div>
                                        <div class="col-4">
                                            <ul>
                                                <h6>ครั้ง</h6>
                                                <li class="reps">12</li>
                                                <li class="reps">12</li>
                                                <li class="reps">12</li>
                                            </ul>
                                        </div>
                                        <div class="col-4">
                                            <ul>
                                                <h6 class="unit-label" id="unitLabel" style="cursor: pointer;">kg</h6>
                                                <select id="unitSelect" style="display: none;">
                                                    <option value="kg">kg</option>
                                                    <option value="lb">lb</option>
                                                </select>
                                                <li class="weight">20.00</li>
                                                <li class="weight">20.00</li>
                                                <li class="weight">20.00</li>
                                            </ul>
                                        </div>
                                    </div>
                                    <button class="button-save btn-setting" id="saveButtonContainer"
                                        style="display: none;">บันทึก</button>


                                    <button class="button-edit btn-setting" id="editButton">แก้ไข</button>
                                    <!-- ปุ่มสำหรับแก้ไข -->
                                    <button class="button-addset btn-setting" id="addSetButton">เพิ่มเซ็ท</button>

                                    <button class="button-deleteset btn-setting" id="deleteSetButton">ลบเซ็ท</button>
                                    <!-- ปุ่มสำหรับเพิ่มเซ็ท -->
                                    <button class="button-unit btn-setting" id="toggleUnitButton">เปลี่ยนหน่วยเป็น
                                        lb</button>
                                    <!-- ปุ่มสำหรับเปลี่ยนหน่วย -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6 card-excercise" data-card-id="3">
                        <div class="container">
                            <div class="row">
                                <div class="col-6 set-and-rep">
                                    <img class="pic-excercise" src="pic_abs_muscle.jpg" alt="">
                                </div>
                                <div class="col-6 set-and-rep">
                                    <div class="row">
                                        <h3>พี่ฟิว Chest Press</h3>
                                        <div class="col-4">
                                            <ul>
                                                <h6>เซ็ท</h6>
                                                <li class="set-item">1</li>
                                                <li class="set-item">2</li>
                                                <li class="set-item">3</li>
                                            </ul>
                                        </div>
                                        <div class="col-4">
                                            <ul>
                                                <h6>ครั้ง</h6>
                                                <li class="reps">12</li>
                                                <li class="reps">12</li>
                                                <li class="reps">12</li>
                                            </ul>
                                        </div>
                                        <div class="col-4">
                                            <ul>
                                                <h6 class="unit-label" id="unitLabel" style="cursor: pointer;">kg</h6>
                                                <select id="unitSelect" style="display: none;">
                                                    <option value="kg">kg</option>
                                                    <option value="lb">lb</option>
                                                </select>
                                                <li class="weight">20.00</li>
                                                <li class="weight">20.00</li>
                                                <li class="weight">20.00</li>
                                            </ul>
                                        </div>
                                    </div>
                                    <button class="button-save btn-setting" id="saveButtonContainer"
                                        style="display: none;">บันทึก</button>


                                    <button class="button-edit btn-setting" id="editButton">แก้ไข</button>
                                    <!-- ปุ่มสำหรับแก้ไข -->
                                    <button class="button-addset btn-setting" id="addSetButton">เพิ่มเซ็ท</button>

                                    <button class="button-deleteset btn-setting" id="deleteSetButton">ลบเซ็ท</button>
                                    <!-- ปุ่มสำหรับเพิ่มเซ็ท -->
                                    <button class="button-unit btn-setting" id="toggleUnitButton">เปลี่ยนหน่วยเป็น
                                        lb</button>
                                    <!-- ปุ่มสำหรับเปลี่ยนหน่วย -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6 card-excercise" data-card-id="4">
                        <div class="container">
                            <div class="row">
                                <div class="col-6 set-and-rep">
                                    <img class="pic-excercise" src="pic_abs_muscle.jpg" alt="">
                                </div>
                                <div class="col-6 set-and-rep">
                                    <div class="row">
                                        <h3>พี่ฟิว Chest Press</h3>
                                        <div class="col-4">
                                            <ul>
                                                <h6>เซ็ท</h6>
                                                <li class="set-item">1</li>
                                                <li class="set-item">2</li>
                                                <li class="set-item">3</li>
                                            </ul>
                                        </div>
                                        <div class="col-4">
                                            <ul>
                                                <h6>ครั้ง</h6>
                                                <li class="reps">12</li>
                                                <li class="reps">12</li>
                                                <li class="reps">12</li>
                                            </ul>
                                        </div>
                                        <div class="col-4">
                                            <ul>
                                                <h6 class="unit-label" id="unitLabel" style="cursor: pointer;">kg</h6>
                                                <select id="unitSelect" style="display: none;">
                                                    <option value="kg">kg</option>
                                                    <option value="lb">lb</option>
                                                </select>
                                                <li class="weight">20.00</li>
                                                <li class="weight">20.00</li>
                                                <li class="weight">20.00</li>
                                            </ul>
                                        </div>
                                    </div>
                                    <button class="button-save btn-setting" id="saveButtonContainer"
                                        style="display: none;">บันทึก</button>


                                    <button class="button-edit btn-setting" id="editButton">แก้ไข</button>
                                    <!-- ปุ่มสำหรับแก้ไข -->
                                    <button class="button-addset btn-setting" id="addSetButton">เพิ่มเซ็ท</button>

                                    <button class="button-deleteset btn-setting" id="deleteSetButton">ลบเซ็ท</button>
                                    <!-- ปุ่มสำหรับเพิ่มเซ็ท -->
                                    <button class="button-unit btn-setting" id="toggleUnitButton">เปลี่ยนหน่วยเป็น
                                        lb</button>
                                    <!-- ปุ่มสำหรับเปลี่ยนหน่วย -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6 card-excercise" data-card-id="5">
                        <div class="container">
                            <div class="row">
                                <div class="col-6 set-and-rep">
                                    <img class="pic-excercise" src="pic_abs_muscle.jpg" alt="">
                                </div>
                                <div class="col-6 set-and-rep">
                                    <div class="row">
                                        <h3>พี่ฟิว Chest Press</h3>
                                        <div class="col-4">
                                            <ul>
                                                <h6>เซ็ท</h6>
                                                <li class="set-item">1</li>
                                                <li class="set-item">2</li>
                                                <li class="set-item">3</li>
                                            </ul>
                                        </div>
                                        <div class="col-4">
                                            <ul>
                                                <h6>ครั้ง</h6>
                                                <li class="reps">12</li>
                                                <li class="reps">12</li>
                                                <li class="reps">12</li>
                                            </ul>
                                        </div>
                                        <div class="col-4">
                                            <ul>
                                                <h6 class="unit-label" id="unitLabel" style="cursor: pointer;">kg</h6>
                                                <select id="unitSelect" style="display: none;">
                                                    <option value="kg">kg</option>
                                                    <option value="lb">lb</option>
                                                </select>
                                                <li class="weight">20.00</li>
                                                <li class="weight">20.00</li>
                                                <li class="weight">20.00</li>
                                            </ul>
                                        </div>
                                    </div>
                                    <button class="button-save btn-setting" id="saveButtonContainer"
                                        style="display: none;">บันทึก</button>


                                    <button class="button-edit btn-setting" id="editButton">แก้ไข</button>
                                    <!-- ปุ่มสำหรับแก้ไข -->
                                    <button class="button-addset btn-setting" id="addSetButton">เพิ่มเซ็ท</button>

                                    <button class="button-deleteset btn-setting" id="deleteSetButton">ลบเซ็ท</button>
                                    <!-- ปุ่มสำหรับเพิ่มเซ็ท -->
                                    <button class="button-unit btn-setting" id="toggleUnitButton">เปลี่ยนหน่วยเป็น
                                        lb</button>
                                    <!-- ปุ่มสำหรับเปลี่ยนหน่วย -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </article>
    </section>

    <script>
        let currentUnit = "kg"; // หน่วยที่ใช้งานปัจจุบัน

        // ฟังก์ชันแปลงน้ำหนัก kg <-> lb
        function convertWeight(weight, fromUnit, toUnit) {
            const factor = 2.20462; // 1 kg = 2.20462 lb
            if (fromUnit === "kg" && toUnit === "lb") {
                return (weight * factor).toFixed(2); // kg -> lb
            } else if (fromUnit === "lb" && toUnit === "kg") {
                return (weight / factor).toFixed(2); // lb -> kg
            }
            return weight; // ถ้าไม่เปลี่ยนหน่วย
        }

        // ฟังก์ชันเพื่อให้ทุกเซ็ตใน card เป็น editable
        function makeAllEditable(card) {
            card.querySelectorAll(".reps, .weight").forEach(function (element) {
                const currentText = element.textContent;
                const inputField = document.createElement("input");
                inputField.type = "text";
                inputField.value = currentText;
                inputField.style.width = "40px";
                inputField.style.height = "20px";
                element.textContent = ""; // ลบข้อความปัจจุบัน
                element.appendChild(inputField);
            });

            // ซ่อนปุ่มแก้ไขและแสดงปุ่มบันทึก
            card.querySelector(".button-edit").style.display = "none";
            card.querySelector(".button-save").style.display = "inline";
        }

        // ฟังก์ชันบันทึกค่าใหม่
        function saveChanges(card) {
            card.querySelectorAll(".reps, .weight").forEach(function (element) {
                const inputField = element.querySelector("input");
                element.textContent = inputField.value; // บันทึกค่าใหม่
            });

            // ซ่อนปุ่มบันทึกและแสดงปุ่มแก้ไขอีกครั้ง
            card.querySelector(".button-save").style.display = "none";
            card.querySelector(".button-edit").style.display = "inline";
        }

        // ฟังก์ชันเพิ่มเซ็ตใหม่
        function addSet(card) {
            const setCount = card.querySelectorAll(".set-item").length + 1;

            const setElement = document.createElement("li");
            setElement.className = "set-item";
            setElement.textContent = setCount;

            const repsElement = document.createElement("li");
            repsElement.className = "reps";
            repsElement.textContent = "0"; // แสดง reps เป็นตัวหนังสือ

            const weightElement = document.createElement("li");
            weightElement.className = "weight";
            weightElement.textContent = "0.00"; // แสดง weight เป็นตัวหนังสือ

            // เพิ่มเซ็ทใหม่ในคอลัมน์ของเซ็ท
            card.querySelector(".col-4:nth-of-type(1) ul").appendChild(setElement);
            card.querySelector(".col-4:nth-of-type(2) ul").appendChild(repsElement);
            card.querySelector(".col-4:nth-of-type(3) ul").appendChild(weightElement);

            // ทำให้เซ็ทใหม่ editable ทันที
            repsElement.innerHTML = "0";
            weightElement.innerHTML = "0";

            setColumn.appendChild(setElement);
            repsColumn.appendChild(repsElement);
            weightColumn.appendChild(weightElement);
        }

        // ฟังก์ชันเปลี่ยนหน่วยน้ำหนัก
        function toggleUnit(card) {
            const currentUnit = card.getAttribute("data-current-unit") || "kg";
            const newUnit = currentUnit === "kg" ? "lb" : "kg";

            card.querySelectorAll(".weight").forEach(function (element) {
                const currentWeight = parseFloat(element.textContent);
                const newWeight = convertWeight(currentWeight, currentUnit, newUnit);
                element.textContent = newWeight;
            });

            // อัปเดตหน่วยที่ใช้งานปัจจุบันใน card นี้
            card.setAttribute("data-current-unit", newUnit);
            card.querySelector(".unit-label").textContent = newUnit;
            card.querySelector(".button-unit").textContent = `เปลี่ยนหน่วยเป็น ${newUnit === "kg" ? "lb" : "kg"}`;
        }


        // ฟังก์ชันลบเซ็ท
        function deleteSet(card) {
            const setItems = card.querySelectorAll(".set-item");
            const repsItems = card.querySelectorAll(".reps");
            const weightItems = card.querySelectorAll(".weight");

            if (setItems.length > 0) {
                setItems[setItems.length - 1].remove(); // ลบเซ็ทล่าสุด
                repsItems[repsItems.length - 1].remove(); // ลบ reps ล่าสุด
                weightItems[weightItems.length - 1].remove(); // ลบ weight ล่าสุด
            }
        }

        // ผูกฟังก์ชันลบเซ็ทกับ card ทุกใบ

        // ผูก event handler กับ card ทุกใบ
        document.querySelectorAll('.card-excercise').forEach(function (card) {
            // ฟังก์ชันแก้ไข
            card.querySelector(".button-edit").addEventListener("click", function () {
                makeAllEditable(card);
            });

            // ฟังก์ชันบันทึก
            card.querySelector(".button-save").addEventListener("click", function () {
                saveChanges(card);
            });

            // ฟังก์ชันเพิ่มเซ็ต
            card.querySelector(".button-addset").addEventListener("click", function () {
                addSet(card);
            });

            // ฟังก์ชันเปลี่ยนหน่วยน้ำหนัก
            card.querySelector(".button-unit").addEventListener("click", function () {
                toggleUnit(card);
            });

            card.querySelector(".button-deleteset").addEventListener("click", function () {
                deleteSet(card);
            });
        });

    </script>

</body>

</html>